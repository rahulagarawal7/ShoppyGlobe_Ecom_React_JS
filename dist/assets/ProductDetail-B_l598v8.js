import{j as e,F as I,b as g,f as $,r as l,a as R,u as D,g as L,L as A,h as M,i as O,k as E,l as H,m as Q,e as T,d as q}from"./index-Cb8-7mY5.js";import{a as B}from"./index-Dq7h7Pqt.js";import U from"./NotFound-DGJMYvRH.js";const W=()=>e.jsxs("div",{className:"min-h-screen flex flex-col justify-center items-center bg-gray-50 px-4",children:[e.jsx(I,{className:"text-6xl text-red-500 mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Product Not Found"}),e.jsx("p",{className:"text-gray-500 mb-6 text-center max-w-md",children:"The product you’re looking for doesn’t exist or may have been removed."}),e.jsx(g,{to:"/",className:"px-6 py-2 bg-indigo-600 text-white text-sm font-medium rounded hover:bg-indigo-700 transition",children:"Back to Home"})]}),J=()=>{const{id:i}=$(),[s,u]=l.useState(null),[j,c]=l.useState(!0),[p,N]=l.useState(null),[d,y]=l.useState(0),[n,o]=l.useState(1),m=R(),f=D(t=>t.cart.items),b=L();l.useEffect(()=>{(async()=>{try{const a=await B.get(`https://dummyjson.com/products/${i}`);u(a.data),c(!1)}catch(a){N(a.message),c(!1)}})()},[i]);const v=f.some(t=>t?.id===s?.id),w=()=>{m(q({...s,quantity:n}))},S=()=>b("/cart"),k=()=>{m(T(s.id))},x=t=>{const a=[],h=Math.floor(t),F=t%1>=.5;for(let r=1;r<=5;r++)r<=h?a.push(e.jsx(E,{className:"text-yellow-400"},r)):r===h+1&&F?a.push(e.jsx(H,{className:"text-yellow-400"},r)):a.push(e.jsx(Q,{className:"text-yellow-400"},r));return a},C=t=>new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});if(j)return e.jsx(A,{type:"Product"});if(p)return e.jsx(U,{});if(!s)return e.jsx(W,{});const P=(s.price*(1-s.discountPercentage/100)).toFixed(2);return e.jsx("div",{className:"bg-gray-50 min-h-screen py-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs(g,{to:"/",className:"flex items-center text-blue-600 mb-6",children:[e.jsx(M,{className:"mr-1"}),"Back to Products"]}),e.jsx("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:e.jsxs("div",{className:"md:flex",children:[e.jsxs("div",{className:"md:w-1/2 p-6",children:[e.jsxs("div",{className:"relative h-80 md:h-96 rounded-lg overflow-hidden mb-4",children:[e.jsx("img",{src:s.images?.[d]||s.thumbnail,alt:s.title,className:"w-full h-full object-contain"}),s.discountPercentage>0&&e.jsxs("div",{className:"absolute top-4 right-4 bg-red-500 text-white text-sm font-bold px-3 py-1 rounded-full",children:[Math.round(s.discountPercentage),"% OFF"]})]}),e.jsx("div",{className:"flex space-x-2 overflow-x-auto py-2",children:s.images?.map((t,a)=>e.jsx("button",{onClick:()=>y(a),className:`flex-shrink-0 w-16 h-16 rounded-md overflow-hidden border-2 ${d===a?"border-blue-500":"border-transparent"}`,children:e.jsx("img",{src:t,alt:`${s.title} ${a+1}`,className:"w-full h-full object-cover"})},a))})]}),e.jsxs("div",{className:"md:w-1/2 p-6 md:p-8",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("span",{className:"text-xs text-gray-500 uppercase tracking-wider",children:s.category}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mt-1",children:s.title}),e.jsxs("div",{className:"flex items-center mt-2",children:[e.jsx("div",{className:"flex mr-2",children:x(s.rating)}),e.jsxs("span",{className:"text-sm text-gray-600",children:[s.rating," (",s.reviews?.length||0," reviews)"]})]})]}),e.jsx("p",{className:"text-gray-700 mb-6",children:s.description}),e.jsx("div",{className:"mb-6",children:s.discountPercentage>0?e.jsxs("div",{children:[e.jsxs("span",{className:"text-3xl font-bold text-gray-900",children:["$",P]}),e.jsxs("span",{className:"ml-2 text-lg text-gray-500 line-through",children:["$",s.price]}),e.jsxs("span",{className:"ml-2 text-sm text-red-600",children:["Save ",s.discountPercentage,"%"]})]}):e.jsxs("span",{className:"text-3xl font-bold text-gray-900",children:["$",s.price]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Availability"}),e.jsx("p",{className:`text-sm font-medium ${s.stock>0?"text-green-600":"text-red-600"}`,children:s.stock>0?"In Stock":"Out of Stock"})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"SKU"}),e.jsx("p",{className:"text-sm text-gray-900",children:s.sku})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Weight"}),e.jsxs("p",{className:"text-sm text-gray-900",children:[s.weight*10," grams"]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Dimensions"}),e.jsxs("p",{className:"text-sm text-gray-900",children:[s.dimensions?.width," × ",s.dimensions?.height," ×"," ",s.dimensions?.depth," in"]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("label",{htmlFor:"quantity",className:"mr-3 text-lg font-medium text-gray-700",children:"Quantity:"}),e.jsxs("div",{className:"flex border px-2 rounded-md",children:[e.jsx("button",{onClick:()=>o(Math.max(1,n-1)),className:"px-3 py-1 bg-gray-100 text-gray-600 hover:bg-gray-200",children:"-"}),e.jsx("span",{className:"px-4 py-1 text-center",children:n}),e.jsx("button",{onClick:()=>o(n+1),className:"px-3 py-1 bg-gray-100 text-gray-600 hover:bg-gray-200",children:"+"})]})]}),s.stock>0?v?e.jsxs("div",{className:"flex gap-4",children:[e.jsx("button",{onClick:k,className:"flex-1 py-3 px-4 bg-red-600 text-white rounded-md hover:bg-red-700 transition",children:"Remove from Cart"}),e.jsx("button",{onClick:S,className:"flex-1 py-3 px-4 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 transition",children:"Go to Cart"})]}):e.jsxs("button",{onClick:w,className:"w-full flex items-center justify-center py-3 px-4 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition",children:[e.jsx(O,{className:"mr-2"}),"Add to Cart"]}):e.jsx("button",{disabled:!0,className:"w-full py-3 px-4 bg-gray-300 text-gray-500 rounded-md cursor-not-allowed",children:"Out of Stock"})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-2",children:"Additional Information"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Warranty"}),e.jsx("p",{className:"text-gray-900",children:s.warrantyInformation})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Shipping"}),e.jsx("p",{className:"text-gray-900",children:s.shippingInformation})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Return Policy"}),e.jsx("p",{className:"text-gray-900",children:s.returnPolicy})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Minimum Order"}),e.jsxs("p",{className:"text-gray-900",children:[s.minimumOrderQuantity," units"]})]})]})]})]})]})}),e.jsx("div",{className:"mt-12 bg-white rounded-xl shadow-lg overflow-hidden",children:e.jsxs("div",{className:"p-6 md:p-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Customer Reviews"}),s.reviews?.length>0?e.jsx("div",{className:"space-y-6",children:s.reviews.map((t,a)=>e.jsxs("div",{className:"border-b pb-6 last:border-b-0 last:pb-0",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("div",{className:"flex mr-2",children:x(t.rating)}),e.jsxs("span",{className:"text-sm text-gray-600",children:[t.rating,"/5"]})]}),e.jsx("h3",{className:"font-medium text-gray-900",children:t.reviewerName}),e.jsx("p",{className:"text-sm text-gray-500 mb-2",children:C(t.date)}),e.jsx("p",{className:"text-gray-700",children:t.comment})]},a))}):e.jsx("p",{className:"text-gray-500",children:"No reviews yet."})]})})]})})};export{J as default};
